{"changed":true,"filter":false,"title":"s3_demo.py","tooltip":"/S3AppFiles-20211026/s3_demo.py","value":"import boto3\n\n\ndef upload_file(file_name, bucket):\n    \"\"\"\n    Function to upload a file to an S3 bucket\n    \"\"\"\n    object_name = file_name\n    s3_client = boto3.client('s3')\n    response = s3_client.upload_file(file_name, bucket, object_name)\n\n    return response\n\n\ndef download_file(file_name, bucket):\n    \"\"\"\n    Function to download a given file from an S3 bucket\n    \"\"\"\n    s3 = boto3.resource('s3')\n    output = f\"downloads/{file_name}\"\n    s3.Bucket(bucket).download_file(file_name, output)\n    \n    \n\n    return output\n\n\ndef list_files(bucket):\n    \"\"\"\n    Function to list files in a given S3 bucket\n    \"\"\"\n    s3 = boto3.client('s3')\n    contents = []\n    try:\n        for item in s3.list_objects(Bucket=bucket)['Contents']:\n            print(item)\n            contents.append(item)\n    except Exception as e:\n        pass\n\n    return contents\n","undoManager":{"mark":-2,"position":0,"stack":[[{"start":{"row":20,"column":54},"end":{"row":21,"column":0},"action":"insert","lines":["",""],"id":8},{"start":{"row":21,"column":0},"end":{"row":21,"column":4},"action":"insert","lines":["    "]},{"start":{"row":21,"column":4},"end":{"row":22,"column":0},"action":"insert","lines":["",""]},{"start":{"row":22,"column":0},"end":{"row":22,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":18,"column":4},"end":{"row":18,"column":29},"action":"remove","lines":["s3 = boto3.resource('s3')"],"id":12},{"start":{"row":18,"column":4},"end":{"row":18,"column":27},"action":"insert","lines":["s3 = boto3.client('s3')"]}],[{"start":{"row":22,"column":4},"end":{"row":22,"column":27},"action":"remove","lines":["s3 = boto3.client('s3')"],"id":12}],[{"start":{"row":23,"column":0},"end":{"row":23,"column":4},"action":"insert","lines":["    "],"id":13}],[{"start":{"row":22,"column":4},"end":{"row":23,"column":59},"action":"insert","lines":["s3 = boto3.client('s3')","s3.download_file('BUCKET_NAME', 'OBJECT_NAME', 'FILE_NAME')"],"id":14}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":24,"column":4},"end":{"row":24,"column":17},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":20,"state":"start","mode":"ace/mode/python"}},"timestamp":1639575719162}